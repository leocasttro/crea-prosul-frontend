<nav class="sidebar" [ngClass]="{'no-shadow': hasActiveItem}">
  <div class="sidebar-header">
    <img src="/logo.png" alt="Logo Prosul" class="logo-prosul">
    <h2>CREA</h2>
  </div>
  <ul class="nav-list">
    <li *ngFor="let item of navItems" class="nav-item">
      <a [routerLink]="item.path" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: false }" aria-current="page">
        {{ item.label }}
      </a>
    </li>
  </ul>
  <div class="user-profile">
    @if (user) {
      <img [src]="'/users/user.png'" alt="Foto de perfil" class="profile-image">
      <span class="user-name">{{ user.username || 'Usuário' }}</span>
      @if (user.roles && user.roles.length > 0) {
        <p>Papéis: {{ user.roles.join(', ') }}</p>
      } @else {
        <p>Papéis: Nenhum</p>
      }
      <button (click)="logout()">Sair</button>
    } @else {
      <p>Usuário não autenticado</p>
      <a [routerLink]="['/login']">Fazer login</a>
    }
  </div>
</nav>
